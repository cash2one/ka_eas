webpackJsonp([12],{0:function(e,t,a){"use strict";a(1),a(103),Jsborya.ready(function(){new Vue({el:"#app",data:{off:{select:0,shiftDetails:0},packageList:"",details:{remarks:{detaile:""}}},created:function(){this.off.shiftDetails=this.getUrlParam("type")},mounted:function(){this.initPage()},methods:{initPage:function(){this.getList(function(){Jsborya.webviewLoading({isLoad:!1})})},getList:function(e){var t=this,a=t.getUrlParam("type"),i=t.getUrlParam("packageCode"),r=t.getUrlParam("prestoreMoney"),s=t.getUrlParam("activityCode"),o=t.getUrlParam("sysOrderId"),n=JSON.parse(window.localStorage.getItem("KM_USERINFO")),l={params:{sysOrderId:o,prestoreMoney:r,packageCode:i,activityCode:s,type:a},userInfo:n};t.AJAX("../../../eas/w/searchcard/getMorePackageInfo",l,function(e){t.packageList=e.data,t.mathLable()},e)},select:function(e){var t=this,a=e.toElement.name,i=(e.toElement.parentNode.className,t.getUrlParam("type")),r=a.split("|")[0],s=a.split("|")[1];if(1==i){for(var o=e.toElement.parentNode.parentNode,n=0;n<o.childNodes.length;n++)1===o.childNodes[n].nodeType&&(o.childNodes[n].className="");e.toElement.parentNode.className="active"}else 2==i&&(2!=r&&e.toElement.parentNode.className?e.toElement.parentNode.className="":2==r?e.toElement.parentNode.className="active active2":e.toElement.parentNode.className="active");t.details=JSON.parse(t.packageList[s].info),t.details.title=t.packageList[s].title},mathLable:function(){var e=this,t=e.packageList;for(var a in t)if(1==t[a].init||2==t[a].init){e.off.select=a,e.details=JSON.parse(t[a].info),e.details.title=t[a].title;break}},makeSure:function(){for(var e,t=document.getElementById("app-package"),a=t.childNodes,i=[],r="",s=this,o=s.getUrlParam("type"),n=s.getUrlParam("packageCode"),l=s.getUrlParam("prestoreMoney"),c=s.getUrlParam("activityCode"),d=s.getUrlParam("sysOrderId"),p=0;p<a.length;p++)if(1===a[p].nodeType&&("active"==a[p].className||"active active2"==a[p].className))for(var m=0,g=a[p].childNodes;m<g.length;m++)1===g[m].nodeType&&i.push(g[m].name.split("|")[1]);for(var f=0;f<i.length;f++)r+=1==o?s.packageList[i[f]].menuCode:s.packageList[i[f]].menuCode+"|";e=1==o?"package.html?type="+o+"&sysOrderId="+d+"&packageCode="+r+"&prestoreMoney="+l+"&activityCode="+c:"package.html?type="+o+"&sysOrderId="+d+"&packageCode="+n+"&prestoreMoney="+l+"&activityCode="+c+"&bag="+r,Jsborya.pageBack({url:e,depiction:"选择套餐",isLoad:!0})},filterBr:function(e){return e?e.split("<br>"):e=[]}}})})},103:function(e,t){}});