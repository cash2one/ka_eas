webpackJsonp([10],{0:function(e,t,o){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}var r=o(3),p=a(r);o(1),o(108),Jsborya.ready(function(){new Vue({el:"#app",data:{off:{typeLevelZero:99999,typeLevelOne:99999,typeLevelTwo:99999,typePrice:99999,typeNumMore:99999,typeNumLess:99999},windowHeight:"",selectCity:{cityCode:"110",cityName:"北京"},showCardList:!0,showOrderTips:!1,isOffScreen:!1,isDisplay:!1,pageSize:12,page:1,isPullLoad:!0,userInfo:"",packageList:[{title:"",imgUrl:"",content:"",code:""}],cardList:{list:[]},orderInfo:"",ruleData:{isContain:[{typeName:"不含4",typeCode:"200004"}],special:[{typeName:"全部",typeCode:"130000"},{typeName:"领导号",typeCode:"130001"},{typeName:"情侣号",typeCode:"130002"}],senior:[{typeName:"全部",typeCode:"110000"},{typeName:"四连及以上",typeCode:"100002"},{typeName:"对号",typeCode:"100003"},{typeName:"顺子",typeCode:"100004"},{typeName:"ABCABCABC",typeCode:"100005"},{typeName:"AAAABBBBC",typeCode:"100006"},{typeName:"AAABBBBC",typeCode:"100007"},{typeName:"ABCDABCD",typeCode:"100008"},{typeName:"ABABABABAB",typeCode:"100009"},{typeName:"ABABABAB",typeCode:"100010"},{typeName:"AAABBBC",typeCode:"100011"},{typeName:"AAABBBB",typeCode:"100018"},{typeName:"AAABBBCCC",typeCode:"100019"},{typeName:"AABBBBB",typeCode:"100020"},{typeName:"3拖3",typeCode:"100012"},{typeName:"4拖3",typeCode:"100013"},{typeName:"4拖4",typeCode:"100014"},{typeName:"5拖2",typeCode:"100015"},{typeName:"5拖3",typeCode:"100016"},{typeName:"6拖2",typeCode:"100017"}],ordinary:[{typeName:"全部",typeCode:"120000"},{typeName:"小靓号",typeCode:"100060"},{typeName:"三连号",typeCode:"100023"},{typeName:"对号",typeCode:"100027"},{typeName:"顺子",typeCode:"100025"},{typeName:"ABAB",typeCode:"100028"},{typeName:"ABABAB",typeCode:"100029"},{typeName:"ABCABC",typeCode:"100030"},{typeName:"AABAAB",typeCode:"100036"},{typeName:"ABBABB",typeCode:"100037"},{typeName:"AABBB",typeCode:"100038"},{typeName:"3拖2",typeCode:"100031"},{typeName:"3拖3",typeCode:"100032"},{typeName:"4拖2",typeCode:"100033"},{typeName:"5拖2",typeCode:"100035"},{typeName:"4拖3",typeCode:"100034"}],price:[{typeName:"100以下",typeCode:"100049"},{typeName:"100~500",typeCode:"100050"},{typeName:"500~1000",typeCode:"100051"},{typeName:"1000~5000",typeCode:"100052"},{typeName:"5000~10000",typeCode:"100053"},{typeName:"1万以上",typeCode:"100054"}],number:[{typeName:"0较多",typeCode:"100039"},{typeName:"1较多",typeCode:"100040"},{typeName:"2较多",typeCode:"100041"},{typeName:"3较多",typeCode:"100042"},{typeName:"4较多",typeCode:"100043"},{typeName:"5较多",typeCode:"100044"},{typeName:"6较多",typeCode:"100045"},{typeName:"7较多",typeCode:"100046"},{typeName:"8较多",typeCode:"100047"},{typeName:"9较多",typeCode:"100048"}]}},created:function(){Jsborya.webviewLoading({isLoad:!1})},mounted:function(){this.initPage()},methods:{initPage:function(){var e=this,t=window.localStorage.getItem("haveSeen_unicom"),o=document.documentElement.clientHeight,a=document.documentElement.clientWidth;e.windowHeight=o;var r=Math.floor((o-200)/45),p=a<=469?2:a<=719?3:4;e.pageSize=r*p+2,Jsborya.getUserInfo(function(o){var o=JSON.parse(BASE64.decode(o));e.userInfo=o,999==t?e.backHome():e.getOrderTips(),e.getUnicomPackage()})},getUnicomPackage:function(){var e=this,t={userInfo:e.userInfo,params:{code:"90131367"}};e.AJAX("../../../eas/w/searchcard/getUnicomPackage",t,function(t){e.packageList=t.data.list})},getOrderTips:function(e){var t=this,o={userInfo:t.userInfo};t.AJAX("../../../eas/w/searchcard/getOrder",o,function(e){e.data?(t.orderInfo=e.data,t.countDown(),t.orderInfo.numberLevel=t.filterLevel(t.orderInfo.numberLevel),t.showOrderTips=!0,t.showCardList=!1):t.backHome()},e)},getCardList:function(e,t){var o=this,a=function(e){o.cardList.list=o.cardList.list.concat(e)},r={params:{cityCode:o.selectCity.cityCode,type:4,page:e||1,pretty:0,phoneType:2,pageSize:o.pageSize,typeLevelZero:"",typeLevelOne:"",typeLevelTwo:"",typePrice:"",typeNumMore:99999!=o.off.typeNumMore?o.ruleData.number[o.off.typeNumMore].typeCode:"",typeNumLess:99999!=o.off.typeNumLess?o.ruleData.isContain[o.off.typeNumLess].typeCode:""},userInfo:o.userInfo};o.AJAX("../../../eas/w/searchcard/getNumberList",r,function(e){o.isPullLoad=!0,t?a(e.data.list):o.cardList=e.data},t)},pullLoad:function(e){e.preventDefault();var t=this,o=t.page,a=document.getElementById("cardUl");t.isPullLoad&&a.scrollHeight<=a.scrollTop+a.offsetHeight&&(t.isPullLoad=!1,o++,t.page=o,t.getCardList(o,!0))},shiftRule:function(e,t){1==t?(e==this.off.typeLevelZero?this.off.typeLevelZero=99999:this.off.typeLevelZero=e,this.off.typeLevelOne=99999,this.off.typeLevelTwo=99999):2==t?(e==this.off.typeLevelOne?this.off.typeLevelOne=99999:this.off.typeLevelOne=e,this.off.typeLevelZero=99999,this.off.typeLevelTwo=99999):3==t?(e==this.off.typeLevelTwo?this.off.typeLevelTwo=99999:this.off.typeLevelTwo=e,this.off.typeLevelZero=99999,this.off.typeLevelOne=99999):4==t?e==this.off.typePrice?this.off.typePrice=99999:this.off.typePrice=e:5==t?e==this.off.typeNumMore?this.off.typeNumMore=99999:this.off.typeNumMore=e:6==t&&(e==this.off.typeNumLess?this.off.typeNumLess=99999:this.off.typeNumLess=e)},initRuleCheck:function(){this.off={typeLevelZero:99999,typeLevelOne:99999,typeLevelTwo:99999,typePrice:99999,typeNumMore:99999,typeNumLess:99999}},selectRule:function(){this.switchPage("SCREEN");var e=this,t={params:{cityCode:e.selectCity.cityCode,type:4,page:1,pretty:0,phoneType:2,pageSize:e.pageSize,typeLevelZero:"",typeLevelOne:"",typeLevelTwo:"",typePrice:"",typeNumMore:99999!=e.off.typeNumMore?e.ruleData.number[e.off.typeNumMore].typeCode:"",typeNumLess:99999!=e.off.typeNumLess?e.ruleData.isContain[e.off.typeNumLess].typeCode:""},userInfo:e.userInfo};e.AJAX("../../../eas/w/searchcard/getNumberList",t,function(t){e.cardList=t.data})},continueOrder:function(){var e=this,t="",o="选择套餐",a={userInfo:e.userInfo};e.AJAX("../../../eas/w/searchcard/getOrder",a,function(a){a.data?(window.localStorage.setItem("haveSeen_unicom",""),1e3==e.orderInfo.orderStatusCode&&(t=2==e.orderInfo.cardType?"unicomPackage.html?sysOrderId="+e.orderInfo.sysOrderId:"package.html?sysOrderId="+e.orderInfo.sysOrderId),Jsborya.pageJump({url:t,stepCode:e.orderInfo.orderStatusCode,depiction:o,data:e.orderInfo})):e.backHome()})},abandon:function(e){var t=this;layer.open({title:"提示",content:"您要放弃未完成的订单的后续操作么？",btn:["放弃","取消"],yes:function(){var o={params:{sysOrderId:e},userInfo:t.userInfo};t.AJAX("../../../eas/w/searchcard/orderCancel",o,function(e){"676"==e.code?(t.getOrderTips(),layer.closeAll()):(t.backHome(),window.localStorage.setItem("haveSeen_unicom",""),layer.open({title:"提示",content:"订单已取消，若已支付，支付货款将退回至您的账户",btn:["确定"]}))})}})},selectCard:function(e,t,o){var a=this,r={params:{number:e,phoneType:o},userInfo:a.userInfo};return 2==o&&1==a.cardList.isNewVersion?(layer.open({content:'<p class="layer-tips">提示</p>当前版本不支持选择<b class="purple">联通号码</b>，请更新到最新版本。',btn:["确定"]}),!1):void a.AJAX("../../../eas/w/searchcard/orderCreate",r,function(r){if("681"==r.code)layer.open({content:'<p class="layer-tips">提示</p>当前有未处理订单，是否处理订单？',btn:["处理订单","取消"],yes:function(){a.getOrderTips(),layer.closeAll()}});else{var p="";p=2==o?"unicomPackage.html?sysOrderId="+r.data.sysOrderId:"package.html?sysOrderId="+r.data.sysOrderId,Jsborya.pageJump({url:p,stepCode:"1000",depiction:"选择套餐",data:{createTime:r.data.createTime,sysOrderId:r.data.sysOrderId,limitSimilarity:r.data.limitSimilarity,cityName:t,cardType:o,orderStatusCode:"1000",privilegeType:r.data.privilegeType,phoneNumber:e}})}})},backHome:function(){this.getCardList(),this.showCardList=!0,this.showOrderTips=!1},haveSeen:function(){window.localStorage.setItem("haveSeen_unicom","999"),this.backHome()},switchPage:function(e){switch(e){case"SCREEN":this.isOffScreen?(this.isOffScreen=!1,document.body.style.overflowY="auto"):(this.isOffScreen=!0,document.body.style.overflowY="hidden"),document.getElementById("ruleCheck").addEventListener("touchmove",function(e){e.preventDefault()});break;case"SEARCH":var t={cityCode:this.selectCity.cityCode,cityName:this.selectCity.cityName,phoneType:2};t=BASE64.encode((0,p.default)(t)),Jsborya.pageJump({url:"search.html?data="+t,stepCode:"999",depiction:"搜索号码"})}},countDown:function(){var e=this,t=parseInt(e.orderInfo.validTime);e.orderInfo.validTime="00:00",clearInterval(window.timer);var o=function(e){var t=e%60,o=Math.floor(e/60);return t<=9&&(t="0"+t),o<=9&&(o="0"+o),o+":"+t};window.timer=setInterval(function(){t--,0==t?(e.orderInfo.validTime="00:00",clearInterval(window.timer),window.location.reload()):e.orderInfo.validTime=o(t)},1e3)},isDisplayInfo:function(){var e=this;e.isDisplay?e.isDisplay=!1:e.isDisplay=!0}}})})},108:function(e,t){}});