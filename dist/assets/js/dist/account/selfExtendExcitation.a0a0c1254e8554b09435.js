webpackJsonp([16],{0:function(t,e,n){"use strict";n(1),n(15),Jsborya.ready(function(){new Vue({el:"#app",data:{off:{show7:!0,show11:!0},userInfo:"",month:[],lastMonth:"",check:5,isPullLoad:!0,page:1,window:"",list:{list7:[],list11:[],monthTotal:0,monthincentive:0,monthMerchant:0,listTotal7:0,listTotal11:0}},created:function(){this.window=document.documentElement.clientHeight},mounted:function(){this.initPage()},methods:{initPage:function(){var t=this;t.filterMonth();var e=parseInt(t.month[5].name)-1;0==e?t.lastMonth=12:t.lastMonth=e,Jsborya.getUserInfo(function(e){var e=JSON.parse(BASE64.decode(e));t.userInfo=e,t.getList(1,function(){Jsborya.webviewLoading({isLoad:!1})})})},tab:function(t){var e=this;e.check=t,e.list.list7=e.list.list11=[];var n=parseInt(e.month[t].name)-1;0==n?e.lastMonth=12:e.lastMonth=n,e.getList()},getList:function(t,e){var n=this,a={params:{yearMonth:n.month[n.check].date},userInfo:n.userInfo};n.AJAX("../../../eas/c/account/openIncentive",a,function(t){n.list=t.data},e,!0)},filterMonth:function(){for(var t=[],e=new Date,n=e.getFullYear(),a=e.getMonth()+1,s=this,i=0;i<6;i++){var o=a-i,r=n;o<=0&&(o=12-Math.abs(o),r=n-1),o<10&&(o="0"+o);var l=r+"-"+o+"-01 00:00:00",c=12!=o?s.get_unix_time(r+"-"+(parseInt(o)+1)+"-1 00:00:00"):s.get_unix_time(r+1+"-1-1 00:00:00");t[i]={name:o+"月",startTime:l,endTime:s.getDateTime(c-1)[6],date:String(r)+o}}this.month=t.reverse()},filterNumber:function(t){return(parseFloat(t)/100).toFixed(2)},filterList:function(t){console.log(1);var e={};for(var n in t){var a=t[n].dateTime;"undefined"==typeof e[a]&&(e[a]=[]),e[a].push({free:t[n].free,type:t[n].type,dateTime:a})}return e},showList:function(t){1==t?this.off.show7?this.off.show7=!1:this.off.show7=!0:2==t&&(this.off.show11?this.off.show11=!1:this.off.show11=!0)},showListDetails:function(t){for(var e=t.target.parentNode.parentNode.parentNode,n="",a=(new Date).getFullYear()+t.target.title,s=this,i=0;i<e.childNodes.length;i++)"UL"===e.childNodes[i].nodeName&&(n=e.childNodes[i]);var o={params:{yearMonth:a.replace(/-/,""),type:7},userInfo:s.userInfo};return"fr"!=t.target.className?(t.target.className="fr",n.style.display="none",!1):void s.AJAX("../../../eas/c/account/detail",o,function(e){for(var a="",i=e.data.list,o=0;o<i.length;o++)a+='<li class="clr"><span class="fl"><b>'+i[o].src_dealer_name+"</b>",a+=""===i[o].src_dealer_id?"<div>商户总数:"+i[o].src_phone+"</div></span>":"<div>手机号码:"+i[o].src_phone+"</div></span>",a+='<span class="fr">'+s.filterNumber(i[o].free)+"</span></li>";0==i.length&&(a+='<li class="m-no-data">暂无数据</li>'),t.target.className="fr active",n.style.display="block",n.innerHTML=a},!1,!0)}}})})},15:function(t,e){}});